[{"/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/App.tsx":"1","/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/index.tsx":"2","/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/hooks/loan.ts":"3","/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/hooks/truefarm.ts":"4","/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/hooks/providers.ts":"5","/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/hooks/tru.ts":"6","/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/hooks/constants.ts":"7","/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/hooks/price.ts":"8","/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/component/loanPage.tsx":"9","/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/component/farmPage.tsx":"10","/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/component/poolPage.tsx":"11","/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/component/pricePage.tsx":"12","/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/hooks/pool.ts":"13"},{"size":1029,"mtime":1606969250704,"results":"14","hashOfConfig":"15"},{"size":145,"mtime":1606961973381,"results":"16","hashOfConfig":"15"},{"size":2394,"mtime":1607049112326,"results":"17","hashOfConfig":"15"},{"size":2101,"mtime":1607115919059,"results":"18","hashOfConfig":"15"},{"size":517,"mtime":1606950030098,"results":"19","hashOfConfig":"15"},{"size":1066,"mtime":1606961186396,"results":"20","hashOfConfig":"15"},{"size":1653,"mtime":1606960116116,"results":"21","hashOfConfig":"15"},{"size":1526,"mtime":1607114768486,"results":"22","hashOfConfig":"15"},{"size":3060,"mtime":1607045940044,"results":"23","hashOfConfig":"15"},{"size":2608,"mtime":1607115981359,"results":"24","hashOfConfig":"15"},{"size":3010,"mtime":1607048683735,"results":"25","hashOfConfig":"15"},{"size":1633,"mtime":1607114945943,"results":"26","hashOfConfig":"15"},{"size":2561,"mtime":1607049304737,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":1,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"144n82v",{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"50"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"53","messages":"54","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59"},"/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/App.tsx",["60","61","62","63","64","65","66","67","68","69","70","71"],"/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/index.tsx",[],"/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/hooks/loan.ts",["72","73","74"],"import { ethers, Contract } from 'ethers'\nimport { connect } from './providers'\nimport { contracts } from './constants'\n\nconst [network, provider, wallet] = connect()\nconst abi = ['function borrower() public view returns (address)',\n                 'function getParameters() external view returns (uint256,uint256,uint256)',\n                 'function profit() public view returns (address)',\n                 'function status() public view returns (uint8)'\n            ]\n                \nexport const getAllLoanCreated = async () => {\n    let logInfo = {\n        address: contracts.loanFactory,\n        topics: [ethers.utils.id('LoanTokenCreated(address)')],\n        fromBlock: 0,\n        toBlock: \"latest\"\n      }\n    \n    let loans = []\n    const statusType = ['Listed','','Withdrawn','Settled']\n    const res = await provider.getLogs(logInfo)\n    for(let i=0;i<res.length;i++){\n        const loanTokenAddr = '0x' + res[i]['data'].substr(26,44)\n        const loanToken = new ethers.Contract(loanTokenAddr, abi, wallet)\n        const para = await loanToken.getParameters()\n        loans.push({'borrower': await loanToken.borrower(), \n                    'amount': para[0]/1e18,\n                    'apy': para[1]/1e2,\n                    'term': para[2]/1e5,\n                    'profit': await loanToken.profit()/1e18,\n                    'blockNumber' : res[i]['blockNumber'],\n                    status : statusType[await loanToken.status()]\n        })\n    }\n    return loans\n}\n\nexport const getAllVoteEvent = async () => {\n    let logInfo = {\n        address: contracts.creditMarket,\n        topics: [ethers.utils.id('Voted(address,address,bool,uint256)')],\n        fromBlock: 0,\n        toBlock: \"latest\"\n      }\n    let result = []\n    const res = await provider.getLogs(logInfo)\n    for(let i=0;i<res.length;i++){\n        const blockNumber = res[i]['blockNumber']\n        const staked = parseInt(res[i]['data'].substr(194,258),16)/1e8\n        const loanId = '0x'+res[i]['data'].substr(26,40)\n        const voter = '0x'+res[i]['data'].substr(90,91).substr(0,40)\n        const vote = res[i]['data'].substr(192,193).substr(0,2)\n        result.push({vote : (vote == '01')? 'YES':'NO',\n                    staked : staked,\n                    voter : voter,\n                    loanId : loanId,\n                    blockNumber : blockNumber\n                    })\n    }\n    return result\n}","/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/hooks/truefarm.ts",["75","76","77","78","79"],"/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/hooks/providers.ts",[],["80","81"],"/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/hooks/tru.ts",["82","83","84"],"import { ethers, Contract } from 'ethers'\nimport { connect } from './providers'\nimport { contracts } from './constants'\n\nconst [network, provider, wallet] = connect()\nconst abi = ['function totalSupply() public view returns (uint256)','function distributed() public view returns (uint256)']\nconst TrustToken = new ethers.Contract(contracts.tru, abi, wallet)\n\nexport const getTruStat = async () => {\n    const supply = await TrustToken.totalSupply()/1e8\n    const MAX_SUPPLY = 1450000000\n    const burned = MAX_SUPPLY - supply\n    let distributed = 0\n    const linearDistributors = [\n        contracts.tfiLpDistributor,\n        contracts.uniTusdTfiDistributor,\n        contracts.uniEthTruDistributor,\n        contracts.balBalTruDistributor,\n    ]\n    for(let i = 0; i < linearDistributors.length; i++) {\n        const distributor = new ethers.Contract(linearDistributors[i], abi, wallet)\n        distributed += await distributor.distributed()/1e8\n    }\n    return {'supply' : supply,\n            'burned' : burned,\n            'distributed' : distributed\n        }\n}\n","/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/hooks/constants.ts",[],"/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/hooks/price.ts",["85","86","87"],"/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/component/loanPage.tsx",["88","89","90"],"import React, { useState, useEffect } from 'react'\nimport {Table, Tag, Typography } from 'antd'\nimport {getAllLoanCreated, getAllVoteEvent} from '../hooks/loan'\nconst { Title, Paragraph, Text, Link } = Typography;\n\n\nexport const LoanPage: React.FC = () => {\n\n    const [loan, setLoan] = useState([{'borrower':'','amount': 0,'term': 0,'apy': 0,'profit': 0,'blockNumber': 0,status:''}])\n    const [vote, setVote] = useState([{vote:'',staked:0,voter:'',loanId:'',blockNumber:0}])\n    useEffect(() => {\n        getAllLoanCreated().then(res => setLoan(res))\n        getAllVoteEvent().then(res => setVote(res))\n    }, []);\n    const loanColumns = [\n        {\n          title: 'Amount',\n          dataIndex: 'amount',\n          key: 'amount',\n          render: (text: any[]) => <Text>${text}</Text>,\n        },\n        {\n          title: 'Term',\n          dataIndex: 'term',\n          key: 'term',\n          render: (text: number) => <Tag color='geekblue' key={text}>{text.toFixed(0)} Days</Tag>,\n    \n          \n        },\n        {\n          title: 'Apy',\n          dataIndex: 'apy',\n          key: 'apy',\n          render: (text: number) => <Tag color='geekblue' key={text}>{text.toFixed(2)} %</Tag>,\n        },\n        {\n          title: 'Borrower',\n          key: 'borrower',\n          dataIndex: 'borrower',\n          render: (text: string) => <Link href={'https://etherscan.io/address/'+text} target=\"_blank\">{text}</Link>,\n        },\n        {\n          title: 'Blocknumber',\n          key: 'blockNumber',\n          dataIndex: 'blockNumber',\n        },\n        {\n          title: 'Profit',\n          key: 'profit',\n          dataIndex: 'profit',\n          render: (text: number) => <a>${text.toFixed(0)}</a>,\n        },\n        {\n          title: 'Status',\n          key: 'status',\n          dataIndex: 'status',\n          render: (text: string) => <Tag color='volcano' key={text}>{text}</Tag>,\n        }\n      ];\n    const voteColumns = [\n      {\n        title: 'Vote',\n        dataIndex: 'vote',\n        key: 'vote',\n        render: (text: string) => <a>{text}</a>,\n      },\n      {\n        title: 'Staked',\n        key: 'staked',\n        dataIndex: 'staked',\n        render: (text: number) => <Text>{text.toFixed(2)} TRU</Text>,\n      },\n      {\n        title: 'Voter',\n        key: 'voter',\n        dataIndex: 'voter',\n        render: (text: string) => <Link href={'https://etherscan.io/address/'+text} target=\"_blank\">{text}</Link>,\n      },\n      {\n        title: 'Loan Token Address',\n        key: 'loanId',\n        dataIndex: 'loanId',\n        render: (text: string) => <Link href={'https://etherscan.io/address/'+text} target=\"_blank\">{text}</Link>,\n      },\n      {\n        title: 'Blocknumber',\n        key: 'blockNumber',\n        dataIndex: 'blockNumber',\n      }\n    ];\n  getAllVoteEvent()\n  return(\n    <div>\n        <Title level={4}>Outstanding Loans</Title>\n        <Table columns={loanColumns} dataSource={loan} />\n        <Title level={4}>Historical Votes</Title>\n        <Table columns={voteColumns} dataSource={vote} />\n    </div>\n  )\n};\n\n",["91","92"],"/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/component/farmPage.tsx",["93","94","95","96"],"/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/component/poolPage.tsx",["97","98","99","100"],"/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/component/pricePage.tsx",["101"],"/Users/yubor/Downloads/TrueFi/truefi-vision-react/src/hooks/pool.ts",["102","103","104","105","106"],"import React from 'react';\nimport { ethers, Contract } from 'ethers'\nimport { connect } from './providers'\nimport { contracts } from './constants'\n\nconst [network, provider, wallet] = connect()\nconst abi = ['function totalSupply() public view returns (uint256)','function poolValue() public view returns (uint256)']\nconst tfi = new ethers.Contract(contracts.tfi, abi, wallet) \n\nexport const getTfiTotalSupply = async () => {\n    return await tfi.totalSupply()/1e18\n}\n\nexport const getPoolValue = async () => {\n    return await tfi.poolValue()/1e18\n}\n\nconst getEventsHelper = async (topic:string,startIndex:number,endIndex:number) => {\n    let result = []\n    let total = 0\n    const logInfo = {address: contracts.tfi, topics:[ethers.utils.id(topic)], fromBlock: 0, toBlock: \"latest\"}    \n    const res = await provider.getLogs(logInfo)\n    for(let i=0;i<res.length;i++){\n        const value = parseInt(res[i]['data'].substr(startIndex,endIndex),16)/1e18\n        if(topic == 'Borrow(address,uint256,uint256)'){\n            console.log(res[i])\n            console.log(res[i]['data'].substr(startIndex,endIndex))\n        }\n        total += value\n        result.push({total: total,\n                    value: value,\n                    blockNumber: res[i]['blockNumber']})\n    }\n    return result\n}\nconst mergeArray = (array: any[]) => {\n    array.sort((a,b) => (a.blockNumber > b.blockNumber) ? 1 : ((b.blockNumber > a.blockNumber) ? -1 : 0)); \n    for(let i=1;i<array.length;i++){\n        array[i].total = array[i-1].total + array[i].value\n        if(array[i].blockNumber == array[i-1].blockNumber){\n        array.splice(i-1,1)\n        i--\n        }\n    }\n    return array\n}\n\nexport const getPoolJoined = async () => {\n    return getEventsHelper('Joined(address,uint256,uint256)',0,66)\n}\nexport const getPoolExited = async () => {\n    return getEventsHelper('Exited(address,uint256)',0,66)\n}\nexport const getNetPool = async () => {\n    const array = [...await getPoolJoined(),...await getPoolExited()]\n    return mergeArray(array)\n}\n\n\nexport const getFlushed = async () => {\n    return getEventsHelper('Flushed(uint256)',34,65)\n}\n\nexport const getPulled = async () => {\n    return getEventsHelper('Pulled(uint256)',34,65)\n}\n\nexport const getNetCurve = async () => {\n    const array = [...await getFlushed(),...await getPulled()]\n    return mergeArray(array)\n}\n\nexport const getBorrow = async () => {\n    return getEventsHelper('Borrow(address,uint256,uint256)',66,67)\n}\n\nexport const getRepaid = async () => {\n    return getEventsHelper('Repaid(uint256)',34,65)\n}",{"ruleId":"107","severity":1,"message":"108","line":1,"column":17,"nodeType":"109","messageId":"110","endLine":1,"endColumn":25},{"ruleId":"107","severity":1,"message":"111","line":2,"column":10,"nodeType":"109","messageId":"110","endLine":2,"endColumn":16},{"ruleId":"107","severity":1,"message":"112","line":2,"column":44,"nodeType":"109","messageId":"110","endLine":2,"endColumn":53},{"ruleId":"107","severity":1,"message":"113","line":2,"column":55,"nodeType":"109","messageId":"110","endLine":2,"endColumn":58},{"ruleId":"107","severity":1,"message":"114","line":2,"column":60,"nodeType":"109","messageId":"110","endLine":2,"endColumn":63},{"ruleId":"107","severity":1,"message":"115","line":2,"column":65,"nodeType":"109","messageId":"110","endLine":2,"endColumn":69},{"ruleId":"107","severity":1,"message":"116","line":11,"column":16,"nodeType":"109","messageId":"110","endLine":11,"endColumn":25},{"ruleId":"107","severity":1,"message":"117","line":11,"column":27,"nodeType":"109","messageId":"110","endLine":11,"endColumn":31},{"ruleId":"107","severity":1,"message":"118","line":11,"column":33,"nodeType":"109","messageId":"110","endLine":11,"endColumn":37},{"ruleId":"107","severity":1,"message":"119","line":12,"column":9,"nodeType":"109","messageId":"110","endLine":12,"endColumn":15},{"ruleId":"107","severity":1,"message":"120","line":12,"column":26,"nodeType":"109","messageId":"110","endLine":12,"endColumn":32},{"ruleId":"121","severity":2,"message":"122","line":37,"column":12,"nodeType":"123","endLine":37,"endColumn":21},{"ruleId":"107","severity":1,"message":"124","line":1,"column":18,"nodeType":"109","messageId":"110","endLine":1,"endColumn":26},{"ruleId":"107","severity":1,"message":"125","line":5,"column":8,"nodeType":"109","messageId":"110","endLine":5,"endColumn":15},{"ruleId":"126","severity":1,"message":"127","line":54,"column":35,"nodeType":"128","messageId":"129","endLine":54,"endColumn":37},{"ruleId":"107","severity":1,"message":"124","line":1,"column":18,"nodeType":"109","messageId":"110","endLine":1,"endColumn":26},{"ruleId":"107","severity":1,"message":"125","line":7,"column":8,"nodeType":"109","messageId":"110","endLine":7,"endColumn":15},{"ruleId":"107","severity":1,"message":"130","line":7,"column":17,"nodeType":"109","messageId":"110","endLine":7,"endColumn":25},{"ruleId":"107","severity":1,"message":"131","line":46,"column":7,"nodeType":"109","messageId":"110","endLine":46,"endColumn":25},{"ruleId":"107","severity":1,"message":"132","line":47,"column":11,"nodeType":"109","messageId":"110","endLine":47,"endColumn":19},{"ruleId":"133","replacedBy":"134"},{"ruleId":"135","replacedBy":"136"},{"ruleId":"107","severity":1,"message":"124","line":1,"column":18,"nodeType":"109","messageId":"110","endLine":1,"endColumn":26},{"ruleId":"107","severity":1,"message":"125","line":5,"column":8,"nodeType":"109","messageId":"110","endLine":5,"endColumn":15},{"ruleId":"107","severity":1,"message":"130","line":5,"column":17,"nodeType":"109","messageId":"110","endLine":5,"endColumn":25},{"ruleId":"107","severity":1,"message":"124","line":1,"column":18,"nodeType":"109","messageId":"110","endLine":1,"endColumn":26},{"ruleId":"107","severity":1,"message":"125","line":5,"column":8,"nodeType":"109","messageId":"110","endLine":5,"endColumn":15},{"ruleId":"107","severity":1,"message":"130","line":5,"column":17,"nodeType":"109","messageId":"110","endLine":5,"endColumn":25},{"ruleId":"107","severity":1,"message":"116","line":4,"column":16,"nodeType":"109","messageId":"110","endLine":4,"endColumn":25},{"ruleId":"137","severity":1,"message":"138","line":51,"column":37,"nodeType":"139","endLine":51,"endColumn":40},{"ruleId":"137","severity":1,"message":"138","line":65,"column":35,"nodeType":"139","endLine":65,"endColumn":38},{"ruleId":"133","replacedBy":"140"},{"ruleId":"135","replacedBy":"141"},{"ruleId":"137","severity":1,"message":"138","line":21,"column":39,"nodeType":"139","endLine":21,"endColumn":42},{"ruleId":"137","severity":1,"message":"138","line":45,"column":39,"nodeType":"139","endLine":45,"endColumn":42},{"ruleId":"137","severity":1,"message":"138","line":51,"column":39,"nodeType":"139","endLine":51,"endColumn":42},{"ruleId":"137","severity":1,"message":"138","line":57,"column":39,"nodeType":"139","endLine":57,"endColumn":42},{"ruleId":"107","severity":1,"message":"142","line":3,"column":57,"nodeType":"109","messageId":"110","endLine":3,"endColumn":62},{"ruleId":"107","severity":1,"message":"116","line":5,"column":16,"nodeType":"109","messageId":"110","endLine":5,"endColumn":25},{"ruleId":"107","severity":1,"message":"117","line":5,"column":27,"nodeType":"109","messageId":"110","endLine":5,"endColumn":31},{"ruleId":"107","severity":1,"message":"118","line":5,"column":33,"nodeType":"109","messageId":"110","endLine":5,"endColumn":37},{"ruleId":"107","severity":1,"message":"143","line":2,"column":36,"nodeType":"109","messageId":"110","endLine":2,"endColumn":41},{"ruleId":"107","severity":1,"message":"144","line":1,"column":8,"nodeType":"109","messageId":"110","endLine":1,"endColumn":13},{"ruleId":"107","severity":1,"message":"124","line":2,"column":18,"nodeType":"109","messageId":"110","endLine":2,"endColumn":26},{"ruleId":"107","severity":1,"message":"125","line":6,"column":8,"nodeType":"109","messageId":"110","endLine":6,"endColumn":15},{"ruleId":"126","severity":1,"message":"127","line":25,"column":18,"nodeType":"128","messageId":"129","endLine":25,"endColumn":20},{"ruleId":"126","severity":1,"message":"127","line":40,"column":33,"nodeType":"128","messageId":"129","endLine":40,"endColumn":35},"@typescript-eslint/no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'Button' is defined but never used.","'Statistic' is defined but never used.","'Row' is defined but never used.","'Col' is defined but never used.","'Card' is defined but never used.","'Paragraph' is assigned a value but never used.","'Text' is assigned a value but never used.","'Link' is assigned a value but never used.","'Header' is assigned a value but never used.","'Footer' is assigned a value but never used.","react/jsx-no-undef","'PricePage' is not defined.","JSXIdentifier","'Contract' is defined but never used.","'network' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'provider' is assigned a value but never used.","'getTotalStakeValue' is assigned a value but never used.","'truefarm' is assigned a value but never used.","no-native-reassign",["145"],"no-negated-in-lhs",["146"],"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement",["145"],["146"],"'Table' is defined but never used.","'Empty' is defined but never used.","'React' is defined but never used.","no-global-assign","no-unsafe-negation"]